## Это тестовый проект на Symfony.

<img width="380" height="100" src="./readme_pictures/symfony.png">


[Ссылка на документацию](https://symfony.com/doc/current/index.html)

## В проекте так же используется Sonata Admin

<img width="150" height="150" src="./readme_pictures/sonata.png">

[Ссылка на документацию](https://docs.sonata-project.org/projects/SonataAdminBundle/en/4.x/)


## Как запустить проект:

Склонируйте репозиторий к себе на компьютер

```
git clone git@github.com:Vanushka/sonata_test.git
```

Войдите в проект

```
cd sonata_test
```

По умолчанию в .env.example стоит наименование базы данных - sonata_test
И пароль - password
Если Вы хотите, можете заменить их под себя


Для полной установки запустите файл

```
bash install.sh
```

Если хотите запустить проект из консоли, выполните три команды:

```
wget https://get.symfony.com/cli/installer -O - | bash

export PATH="$HOME/.symfony/bin:$PATH"

symfony serve
```

## Поздравляем! Вы запустили проект! Можете открыть его по адресу http://localhost:8000/admin/login

При установке в базе данных будут вписаны уже 2 пользователя и 1 товар

Доступы к пользователям:
```
User 1
Login: admin@admin.com
Password: password
Role: Администратор

User 2
Login: andrey@mail.com
Password: secret
Role: Менеджер
```

Товар: Кабельно-проводниковая продукция

## По функционалу:

Администратор может создавать, редактировать и удалять пользователей и товары

Менеджер может только просматривать товары

Если администратор снял статус активности с пользователя,
то он больше не сможет авторизоваться в системе,
пока Администратор не вернёт ему статус активности.
Если в это время пользователь Менеджер авторизован в системе,
то его должно выкинуть из системы, и перекинуть на форму авторизации

Если убрать статус активности с товара,
то менеджер не сможет его увидеть в списке товаров

## Парсинг товаров

Чтобы запустить парсер, который начнёт наполнять базу товарами, запустите:

```
php bin/console app:import-products
```

## На этом всё!